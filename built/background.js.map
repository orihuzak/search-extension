{"version":3,"sources":["utilities.ts","../node_modules/fuse.js/dist/fuse.js","background.ts"],"names":["e","t","exports","module","define","amd","Fuse","n","r","o","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","Array","isArray","toString","iterator","constructor","length","configurable","writable","key","a","location","distance","threshold","h","maxPatternLength","u","f","caseSensitive","v","tokenSeparator","g","findAllMatches","y","minMatchCharLength","k","S","id","x","b","keys","M","_","shouldSort","L","w","getFn","A","C","sortFn","I","score","O","tokenize","j","P","matchAllTokens","F","T","includeMatches","z","E","includeScore","K","$","verbose","J","TypeError","options","isCaseSensitive","setCollection","list","arguments","limit","_log","concat","_prepareSearchers","tokenSearchers","fullSearcher","_search","weights","results","_computeScore","_sort","slice","_format","split","push","_analyze","record","index","resultMap","name","weight","Error","arrayIndex","search","pattern","isMatch","output","matchedIndices","item","Math","min","nScore","sort","JSON","stringify","indexOf","matches","indices","console","log","apply","toLowerCase","patternAlphabet","RegExp","replace","match","errors","currentLocation","expectedLocation","lastIndexOf","floor","max","charAt","abs"],"mappings":"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","file":"background.js","sourceRoot":"../src","sourcesContent":["import { BookmarkTreeNode, ChromeItem } from './chrome-type';\n/**\n * arrayの重複を排除する\n * @param {*} arr1 array of object\n * @param {*} arr2 array of object\n * arr1に重複を排除して追加する\n */\nexport function deduplicate (arr1: ChromeItem[], arr2: ChromeItem[]) {\n  arr2.forEach( item2 => {\n    let flag = true\n    arr1.forEach( item1 => {\n      if (item1.url === item2.url) {\n        flag = false\n        return\n      }\n    })\n    if (flag) arr1.push(item2)\n  })\n  return arr1\n}\n\n/**\n * tree構造を一次元のリストにする\n */\nexport function treeToFlatList (tree: BookmarkTreeNode): BookmarkTreeNode[] {\n  function loop(node: BookmarkTreeNode, \n    result: BookmarkTreeNode[]) {\n    if (node.url) { // ディレクトリはurlを持たないのでこれで判断する\n      result.push(node)\n    } else if (node.children) {\n      for(let i = 0; i < node.children.length; i++) {\n        const item = node.children[i]\n        loop(item, result)\n      }\n    }\n    return result\n  }\n  return loop(tree, [])\n}","/*!\n * Fuse.js v3.4.5 - Lightweight fuzzy-search (http://fusejs.io)\n * \n * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n * \n * http://www.apache.org/licenses/LICENSE-2.0\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"Fuse\",[],t):\"object\"==typeof exports?exports.Fuse=t():e.Fuse=t()}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):\"[object Array]\"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(2),a=n(8),s=n(0),c=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,s=void 0===i?100:i,c=n.threshold,h=void 0===c?.6:c,l=n.maxPatternLength,u=void 0===l?32:l,f=n.caseSensitive,d=void 0!==f&&f,v=n.tokenSeparator,p=void 0===v?/ +/g:v,g=n.findAllMatches,y=void 0!==g&&g,m=n.minMatchCharLength,k=void 0===m?1:m,S=n.id,x=void 0===S?null:S,b=n.keys,M=void 0===b?[]:b,_=n.shouldSort,L=void 0===_||_,w=n.getFn,A=void 0===w?a:w,C=n.sortFn,I=void 0===C?function(e,t){return e.score-t.score}:C,O=n.tokenize,j=void 0!==O&&O,P=n.matchAllTokens,F=void 0!==P&&P,T=n.includeMatches,z=void 0!==T&&T,E=n.includeScore,K=void 0!==E&&E,$=n.verbose,J=void 0!==$&&$;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:d,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k,id:x,keys:M,includeMatches:z,includeScore:K,shouldSort:L,getFn:A,sortFn:I,verbose:J,tokenize:j,matchAllTokens:F},this.setCollection(t)}var t,n,c;return t=e,(n=[{key:\"setCollection\",value:function(e){return this.list=e,e}},{key:\"search\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\\nSearch pattern: \"'.concat(e,'\"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,o=n.fullSearcher,i=this._search(r,o),a=i.weights,s=i.results;return this._computeScore(a,s),this.options.shouldSort&&this._sort(s),t.limit&&\"number\"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}},{key:\"_prepareSearchers\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,o=n.length;r<o;r+=1)t.push(new i(n[r],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:\"_search\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},o=[];if(\"string\"==typeof n[0]){for(var i=0,a=n.length;i<a;i+=1)this._analyze({key:\"\",value:n[i],record:i,index:i},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var s={},c=0,h=n.length;c<h;c+=1)for(var l=n[c],u=0,f=this.options.keys.length;u<f;u+=1){var d=this.options.keys[u];if(\"string\"!=typeof d){if(s[d.name]={weight:1-d.weight||1},d.weight<=0||d.weight>1)throw new Error(\"Key weight has to be > 0 and <= 1\");d=d.name}else s[d]={weight:1};this._analyze({key:d,value:this.options.getFn(l,d),record:l,index:c},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:o}}},{key:\"_analyze\",value:function(e,t){var n=e.key,r=e.arrayIndex,o=void 0===r?-1:r,i=e.value,a=e.record,c=e.index,h=t.tokenSearchers,l=void 0===h?[]:h,u=t.fullSearcher,f=void 0===u?[]:u,d=t.resultMap,v=void 0===d?{}:d,p=t.results,g=void 0===p?[]:p;if(null!=i){var y=!1,m=-1,k=0;if(\"string\"==typeof i){this._log(\"\\nKey: \".concat(\"\"===n?\"-\":n));var S=f.search(i);if(this._log('Full text: \"'.concat(i,'\", score: ').concat(S.score)),this.options.tokenize){for(var x=i.split(this.options.tokenSeparator),b=[],M=0;M<l.length;M+=1){var _=l[M];this._log('\\nPattern: \"'.concat(_.pattern,'\"'));for(var L=!1,w=0;w<x.length;w+=1){var A=x[w],C=_.search(A),I={};C.isMatch?(I[A]=C.score,y=!0,L=!0,b.push(C.score)):(I[A]=1,this.options.matchAllTokens||b.push(1)),this._log('Token: \"'.concat(A,'\", score: ').concat(I[A]))}L&&(k+=1)}m=b[0];for(var O=b.length,j=1;j<O;j+=1)m+=b[j];m/=O,this._log(\"Token score average:\",m)}var P=S.score;m>-1&&(P=(P+m)/2),this._log(\"Score average:\",P);var F=!this.options.tokenize||!this.options.matchAllTokens||k>=l.length;if(this._log(\"\\nCheck Matches: \".concat(F)),(y||S.isMatch)&&F){var T=v[c];T?T.output.push({key:n,arrayIndex:o,value:i,score:P,matchedIndices:S.matchedIndices}):(v[c]={item:a,output:[{key:n,arrayIndex:o,value:i,score:P,matchedIndices:S.matchedIndices}]},g.push(v[c]))}}else if(s(i))for(var z=0,E=i.length;z<E;z+=1)this._analyze({key:n,arrayIndex:z,value:i[z],record:a,index:c},{resultMap:v,results:g,tokenSearchers:l,fullSearcher:f})}}},{key:\"_computeScore\",value:function(e,t){this._log(\"\\n\\nComputing score:\\n\");for(var n=0,r=t.length;n<r;n+=1){for(var o=t[n].output,i=o.length,a=1,s=1,c=0;c<i;c+=1){var h=e?e[o[c].key].weight:1,l=(1===h?o[c].score:o[c].score||.001)*h;1!==h?s=Math.min(s,l):(o[c].nScore=l,a*=l)}t[n].score=1===s?a:s,this._log(t[n])}}},{key:\"_sort\",value:function(e){this._log(\"\\n\\nSorting....\"),e.sort(this.options.sortFn)}},{key:\"_format\",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log(\"\\n\\nOutput:\\n\\n\",JSON.stringify(e,function(e,t){if(\"object\"===r(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})),n=null}var o=[];this.options.includeMatches&&o.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,o=n.length;r<o;r+=1){var i=n[r];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty(\"arrayIndex\")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&o.push(function(e,t){t.score=e.score});for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var c={item:s.item},h=0,l=o.length;h<l;h+=1)o[h](s,c);t.push(c)}else t.push(s.item)}return t}},{key:\"_log\",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&o(t.prototype,n),c&&o(t,c),e}();e.exports=c},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(3),i=n(4),a=n(7),s=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,s=void 0===i?100:i,c=n.threshold,h=void 0===c?.6:c,l=n.maxPatternLength,u=void 0===l?32:l,f=n.isCaseSensitive,d=void 0!==f&&f,v=n.tokenSeparator,p=void 0===v?/ +/g:v,g=n.findAllMatches,y=void 0!==g&&g,m=n.minMatchCharLength,k=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:d,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}var t,n,s;return t=e,(n=[{key:\"search\",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,r=t.tokenSeparator;if(this.pattern.length>n)return o(e,this.pattern,r);var a=this.options,s=a.location,c=a.distance,h=a.threshold,l=a.findAllMatches,u=a.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:s,distance:c,threshold:h,findAllMatches:l,minMatchCharLength:u})}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},function(e,t){var n=/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(n,\"\\\\$&\").replace(r,\"|\")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,n){var r=n(5),o=n(6);e.exports=function(e,t,n,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,d=void 0!==f&&f,v=i.minMatchCharLength,p=void 0===v?1:v,g=s,y=e.length,m=u,k=e.indexOf(t,g),S=t.length,x=[],b=0;b<y;b+=1)x[b]=0;if(-1!==k){var M=r(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});if(m=Math.min(M,m),-1!==(k=e.lastIndexOf(t,g+S))){var _=r(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});m=Math.min(_,m)}}k=-1;for(var L=[],w=1,A=S+y,C=1<<S-1,I=0;I<S;I+=1){for(var O=0,j=A;O<j;){r(t,{errors:I,currentLocation:g+j,expectedLocation:g,distance:h})<=m?O=j:A=j,j=Math.floor((A-O)/2+O)}A=j;var P=Math.max(1,g-j+1),F=d?y:Math.min(g+j,y)+S,T=Array(F+2);T[F+1]=(1<<I)-1;for(var z=F;z>=P;z-=1){var E=z-1,K=n[e.charAt(E)];if(K&&(x[E]=1),T[z]=(T[z+1]<<1|1)&K,0!==I&&(T[z]|=(L[z+1]|L[z])<<1|1|L[z+1]),T[z]&C&&(w=r(t,{errors:I,currentLocation:E,expectedLocation:g,distance:h}))<=m){if(m=w,(k=E)<=g)break;P=Math.max(1,2*g-k)}}if(r(t,{errors:I+1,currentLocation:g,expectedLocation:g,distance:h})>m)break;L=T}return{isMatch:k>=0,score:0===w?.001:w,matchedIndices:o(x,p)}}},function(e,t){e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=r/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===r?r=i:s||-1===r||((o=i-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var o=0;o<n;o+=1)t[e.charAt(o)]|=1<<n-o-1;return t}},function(e,t,n){var r=n(0);e.exports=function(e,t){return function e(t,n,o){if(n){var i=n.indexOf(\".\"),a=n,s=null;-1!==i&&(a=n.slice(0,i),s=n.slice(i+1));var c=t[a];if(null!=c)if(s||\"string\"!=typeof c&&\"number\"!=typeof c)if(r(c))for(var h=0,l=c.length;h<l;h+=1)e(c[h],s,o);else s&&e(c,s,o);else o.push(c.toString())}else o.push(t);return o}(e,t,[])}}])});","import { treeToFlatList } from './utilities'\nimport Fuse = require('fuse.js')\n\nconst log = console.log // あとで消す\nlet items\n  , currentTab\n  , tabs\n  , history\n  , bookmarks\n  , tabsAndHistory\n\n/** fuse option */\nconst option = {\n  shouldSort: true,\n  includeScore: true,\n  includeMatches: true,\n  minMatchCharLength: 1,\n  threshold: 0.35, // 0に近ければより厳しい\n  maxPatternLength: 32,\n  keys: [ 'title', 'url' ],\n}\n\nfunction getTabs() {\n  chrome.tabs.query({}, t => {\n    tabs = t\n  })\n}\n\nfunction getHistory() {\n  chrome.history.search({ text: '', maxResults: 30 }, h => {\n    history = h\n  })\n}\n\nfunction getBookmarks() {\n  chrome.bookmarks.getTree(tree => {\n    bookmarks = treeToFlatList(tree[0])\n  })\n}\n\nfunction getTabsAndHistory() {\n  tabsAndHistory = deduplicate(tabs, history)\n}\n\nfunction getItems() {\n  items = deduplicate(tabsAndHistory, bookmarks)\n}\n\n/**\n * array x, yの重複を排除した新しいarrayを返す\n */\nfunction deduplicate(x, y) {\n  let result = [...x]\n  for(let yi of y) {\n    let flag = true\n    for(let xi of x) {\n      if(xi.url === yi.url) {\n        flag = false\n        continue\n      }\n    }\n    if (flag) result.push(yi)\n  }\n  return result\n}\n\n// extensionボタンが押されたらcontent scriptsにメッセージ\nchrome.browserAction.onClicked.addListener( tab => {\n  currentTab = tab\n  if (tab.url === 'chrome://newtab/') { // 現在のタブがnew tabならリダイレクトする\n    chrome.tabs.create({\n      url: chrome.extension.getURL('view.html')\n    })\n  } else {\n    chrome.tabs.sendMessage(tab.id, {})\n  }\n  getTabsAndHistory()\n  getItems()\n})\n\n// tabがアップデートされたらtabsを取得し直す\nchrome.tabs.onUpdated.addListener(() => {\n  getTabs()\n})\n\nchrome.tabs.onRemoved.addListener(() => {\n  getTabs()\n})\n\n// tabが切り替わったらextensionを非表示\nchrome.tabs.onActivated.addListener(() => {\n  chrome.tabs.sendMessage(currentTab.id, 'unactive')\n})\n\n// historyが変更されたら更新\nchrome.history.onVisited.addListener(() => {\n  getHistory()\n})\n\n// bookmarkがupdateされたら更新する\nchrome.bookmarks.onCreated.addListener(() => {\n  getBookmarks()\n})\n\nchrome.bookmarks.onRemoved.addListener(() => {\n  getBookmarks()\n})\n\nchrome.bookmarks.onChanged.addListener(() => {\n  getBookmarks()\n})\n\nchrome.bookmarks.onImportEnded.addListener(() => {\n  getBookmarks()\n})\n\n/**\n * 検索\n */\nfunction search(text: string){\n  const fuse = new Fuse(items, option)\n  return fuse.search(text)\n}\n\n/** \n * messageを受信\n */\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n  // tabsを返信\n  if (message.defaultSuggests) {\n    sendResponse({defaultSuggests: tabsAndHistory})\n  }\n  // 検索して結果を返信\n  if (message.searchWord) {\n    const result = search(message.searchWord)\n    sendResponse({searchResult: result})\n  }\n})\n\n/** 実行セクション */\n// getItems()\ngetTabs()\ngetHistory()\ngetBookmarks()\ngetTabsAndHistory()\ngetItems()\n"]}